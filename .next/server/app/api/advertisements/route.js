/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/advertisements/route";
exports.ids = ["app/api/advertisements/route"];
exports.modules = {

/***/ "(rsc)/./app/api/advertisements/route.ts":
/*!*****************************************!*\
  !*** ./app/api/advertisements/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/models */ \"(rsc)/./lib/models.ts\");\n\n\n\nasync function GET(req) {\n    try {\n        const isPublic = req.nextUrl.searchParams.get('public') === 'true';\n        if (isPublic) {\n            // Route publique pour récupérer les publicités actives\n            const { getActiveAdvertisements } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/models */ \"(rsc)/./lib/models.ts\"));\n            const advertisements = await getActiveAdvertisements();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                advertisements\n            });\n        }\n        const authUser = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getAuthUser)(req);\n        if (!authUser || authUser.role !== 'admin') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Accès non autorisé'\n            }, {\n                status: 403\n            });\n        }\n        const advertisements = await (0,_lib_models__WEBPACK_IMPORTED_MODULE_2__.getAdvertisements)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            advertisements\n        });\n    } catch (error) {\n        console.error('Get advertisements error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erreur lors de la récupération des publicités'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(req) {\n    try {\n        const authUser = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getAuthUser)(req);\n        if (!authUser || authUser.role !== 'admin') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Accès non autorisé'\n            }, {\n                status: 403\n            });\n        }\n        const data = await req.json();\n        const advertisementId = await (0,_lib_models__WEBPACK_IMPORTED_MODULE_2__.createAdvertisement)(data);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            advertisementId: advertisementId.toString()\n        });\n    } catch (error) {\n        console.error('Create advertisement error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erreur lors de la création de la publicité'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkdmVydGlzZW1lbnRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVEO0FBQ2Y7QUFDNkI7QUFFOUQsZUFBZUksSUFBSUMsR0FBZ0I7SUFDeEMsSUFBSTtRQUNGLE1BQU1DLFdBQVdELElBQUlFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLENBQUMsY0FBYztRQUU1RCxJQUFJSCxVQUFVO1lBQ1osdURBQXVEO1lBQ3ZELE1BQU0sRUFBRUksdUJBQXVCLEVBQUUsR0FBRyxNQUFNLGlJQUFzQjtZQUNoRSxNQUFNQyxpQkFBaUIsTUFBTUQ7WUFDN0IsT0FBT1YscURBQVlBLENBQUNZLElBQUksQ0FBQztnQkFBRUQ7WUFBZTtRQUM1QztRQUVBLE1BQU1FLFdBQVcsTUFBTVosc0RBQVdBLENBQUNJO1FBRW5DLElBQUksQ0FBQ1EsWUFBWUEsU0FBU0MsSUFBSSxLQUFLLFNBQVM7WUFDMUMsT0FBT2QscURBQVlBLENBQUNZLElBQUksQ0FDdEI7Z0JBQUVHLE9BQU87WUFBcUIsR0FDOUI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1MLGlCQUFpQixNQUFNVCw4REFBaUJBO1FBRTlDLE9BQU9GLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7WUFBRUQ7UUFBZTtJQUM1QyxFQUFFLE9BQU9JLE9BQVk7UUFDbkJFLFFBQVFGLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9mLHFEQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVHLE9BQU87UUFBZ0QsR0FDekQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlRSxLQUFLYixHQUFnQjtJQUN6QyxJQUFJO1FBQ0YsTUFBTVEsV0FBVyxNQUFNWixzREFBV0EsQ0FBQ0k7UUFFbkMsSUFBSSxDQUFDUSxZQUFZQSxTQUFTQyxJQUFJLEtBQUssU0FBUztZQUMxQyxPQUFPZCxxREFBWUEsQ0FBQ1ksSUFBSSxDQUN0QjtnQkFBRUcsT0FBTztZQUFxQixHQUM5QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTUcsT0FBTyxNQUFNZCxJQUFJTyxJQUFJO1FBQzNCLE1BQU1RLGtCQUFrQixNQUFNakIsZ0VBQW1CQSxDQUFDZ0I7UUFFbEQsT0FBT25CLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7WUFDdkJTLFNBQVM7WUFDVEQsaUJBQWlCQSxnQkFBZ0JFLFFBQVE7UUFDM0M7SUFDRixFQUFFLE9BQU9QLE9BQVk7UUFDbkJFLFFBQVFGLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9mLHFEQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVHLE9BQU87UUFBNkMsR0FDdEQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUENcXERvd25sb2Fkc1xcc2hvcGx5ZWFzeVxcc2hvcGx5ZWFzeVxcYXBwXFxhcGlcXGFkdmVydGlzZW1lbnRzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IGdldEF1dGhVc2VyIH0gZnJvbSAnQC9saWIvYXV0aCdcclxuaW1wb3J0IHsgZ2V0QWR2ZXJ0aXNlbWVudHMsIGNyZWF0ZUFkdmVydGlzZW1lbnQgfSBmcm9tICdAL2xpYi9tb2RlbHMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXNQdWJsaWMgPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdwdWJsaWMnKSA9PT0gJ3RydWUnXHJcbiAgICBcclxuICAgIGlmIChpc1B1YmxpYykge1xyXG4gICAgICAvLyBSb3V0ZSBwdWJsaXF1ZSBwb3VyIHLDqWN1cMOpcmVyIGxlcyBwdWJsaWNpdMOpcyBhY3RpdmVzXHJcbiAgICAgIGNvbnN0IHsgZ2V0QWN0aXZlQWR2ZXJ0aXNlbWVudHMgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvbW9kZWxzJylcclxuICAgICAgY29uc3QgYWR2ZXJ0aXNlbWVudHMgPSBhd2FpdCBnZXRBY3RpdmVBZHZlcnRpc2VtZW50cygpXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGFkdmVydGlzZW1lbnRzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXV0aFVzZXIgPSBhd2FpdCBnZXRBdXRoVXNlcihyZXEpXHJcbiAgICBcclxuICAgIGlmICghYXV0aFVzZXIgfHwgYXV0aFVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0FjY8OocyBub24gYXV0b3Jpc8OpJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWR2ZXJ0aXNlbWVudHMgPSBhd2FpdCBnZXRBZHZlcnRpc2VtZW50cygpXHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYWR2ZXJ0aXNlbWVudHMgfSlcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgYWR2ZXJ0aXNlbWVudHMgZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgcHVibGljaXTDqXMnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhdXRoVXNlciA9IGF3YWl0IGdldEF1dGhVc2VyKHJlcSlcclxuICAgIFxyXG4gICAgaWYgKCFhdXRoVXNlciB8fCBhdXRoVXNlci5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQWNjw6hzIG5vbiBhdXRvcmlzw6knIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVxLmpzb24oKVxyXG4gICAgY29uc3QgYWR2ZXJ0aXNlbWVudElkID0gYXdhaXQgY3JlYXRlQWR2ZXJ0aXNlbWVudChkYXRhKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGFkdmVydGlzZW1lbnRJZDogYWR2ZXJ0aXNlbWVudElkLnRvU3RyaW5nKCksXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0ZSBhZHZlcnRpc2VtZW50IGVycm9yOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRXJyZXVyIGxvcnMgZGUgbGEgY3LDqWF0aW9uIGRlIGxhIHB1YmxpY2l0w6knIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldEF1dGhVc2VyIiwiZ2V0QWR2ZXJ0aXNlbWVudHMiLCJjcmVhdGVBZHZlcnRpc2VtZW50IiwiR0VUIiwicmVxIiwiaXNQdWJsaWMiLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwiZ2V0QWN0aXZlQWR2ZXJ0aXNlbWVudHMiLCJhZHZlcnRpc2VtZW50cyIsImpzb24iLCJhdXRoVXNlciIsInJvbGUiLCJlcnJvciIsInN0YXR1cyIsImNvbnNvbGUiLCJQT1NUIiwiZGF0YSIsImFkdmVydGlzZW1lbnRJZCIsInN1Y2Nlc3MiLCJ0b1N0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/advertisements/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getAuthUser: () => (/* binding */ getAuthUser),\n/* harmony export */   removeAuthCookie: () => (/* binding */ removeAuthCookie),\n/* harmony export */   setAuthCookie: () => (/* binding */ setAuthCookie),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-change-this-in-production';\nfunction generateToken(payload) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, {\n        expiresIn: '7d'\n    });\n}\nfunction verifyToken(token) {\n    try {\n        if (!token) {\n            console.error('verifyToken: No token provided');\n            return null;\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        console.log('verifyToken: Token verified successfully', {\n            userId: decoded.userId,\n            email: decoded.email,\n            role: decoded.role\n        });\n        return decoded;\n    } catch (error) {\n        console.error('verifyToken: Token verification failed', {\n            error: error.message,\n            tokenLength: token?.length,\n            secretLength: JWT_SECRET.length\n        });\n        return null;\n    }\n}\nasync function getAuthUser(request) {\n    const token = request.cookies.get('token')?.value;\n    if (!token) {\n        return null;\n    }\n    return verifyToken(token);\n}\nfunction setAuthCookie(response, token) {\n    // Créer un nouveau cookie avec toutes les options nécessaires\n    response.cookies.set({\n        name: 'token',\n        value: token,\n        httpOnly: true,\n        secure: \"development\" === 'production',\n        sameSite: 'lax',\n        maxAge: 60 * 60 * 24 * 7,\n        path: '/'\n    });\n    console.log('Cookie set with token length:', token.length) // Debug\n    ;\n    console.log('Cookie options:', {\n        httpOnly: true,\n        secure: \"development\" === 'production',\n        sameSite: 'lax',\n        path: '/'\n    });\n}\nfunction removeAuthCookie(response) {\n    response.cookies.delete('token');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRzlCLE1BQU1DLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVSxJQUFJO0FBUXRDLFNBQVNHLGNBQWNDLE9BQW1CO0lBQy9DLE9BQU9MLHdEQUFRLENBQUNLLFNBQVNKLFlBQVk7UUFBRU0sV0FBVztJQUFLO0FBQ3pEO0FBRU8sU0FBU0MsWUFBWUMsS0FBYTtJQUN2QyxJQUFJO1FBQ0YsSUFBSSxDQUFDQSxPQUFPO1lBQ1ZDLFFBQVFDLEtBQUssQ0FBQztZQUNkLE9BQU87UUFDVDtRQUVBLE1BQU1DLFVBQVVaLDBEQUFVLENBQUNTLE9BQU9SO1FBQ2xDUyxRQUFRSSxHQUFHLENBQUMsNENBQTRDO1lBQUVDLFFBQVFILFFBQVFHLE1BQU07WUFBRUMsT0FBT0osUUFBUUksS0FBSztZQUFFQyxNQUFNTCxRQUFRSyxJQUFJO1FBQUM7UUFDM0gsT0FBT0w7SUFDVCxFQUFFLE9BQU9ELE9BQVk7UUFDbkJELFFBQVFDLEtBQUssQ0FBQywwQ0FBMEM7WUFDdERBLE9BQU9BLE1BQU1PLE9BQU87WUFDcEJDLGFBQWFWLE9BQU9XO1lBQ3BCQyxjQUFjcEIsV0FBV21CLE1BQU07UUFDakM7UUFDQSxPQUFPO0lBQ1Q7QUFDRjtBQUVPLGVBQWVFLFlBQVlDLE9BQW9CO0lBQ3BELE1BQU1kLFFBQVFjLFFBQVFDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVVDO0lBRTVDLElBQUksQ0FBQ2pCLE9BQU87UUFDVixPQUFPO0lBQ1Q7SUFFQSxPQUFPRCxZQUFZQztBQUNyQjtBQUVPLFNBQVNrQixjQUFjQyxRQUFzQixFQUFFbkIsS0FBYTtJQUNqRSw4REFBOEQ7SUFDOURtQixTQUFTSixPQUFPLENBQUNLLEdBQUcsQ0FBQztRQUNuQkMsTUFBTTtRQUNOSixPQUFPakI7UUFDUHNCLFVBQVU7UUFDVkMsUUFBUTlCLGtCQUF5QjtRQUNqQytCLFVBQVU7UUFDVkMsUUFBUSxLQUFLLEtBQUssS0FBSztRQUN2QkMsTUFBTTtJQUNSO0lBRUF6QixRQUFRSSxHQUFHLENBQUMsaUNBQWlDTCxNQUFNVyxNQUFNLEVBQUUsUUFBUTs7SUFDbkVWLFFBQVFJLEdBQUcsQ0FBQyxtQkFBbUI7UUFDN0JpQixVQUFVO1FBQ1ZDLFFBQVE5QixrQkFBeUI7UUFDakMrQixVQUFVO1FBQ1ZFLE1BQU07SUFDUjtBQUNGO0FBRU8sU0FBU0MsaUJBQWlCUixRQUFzQjtJQUNyREEsU0FBU0osT0FBTyxDQUFDYSxNQUFNLENBQUM7QUFDMUIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUENcXERvd25sb2Fkc1xcc2hvcGx5ZWFzeVxcc2hvcGx5ZWFzeVxcbGliXFxhdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAneW91ci1zZWNyZXQta2V5LWNoYW5nZS10aGlzLWluLXByb2R1Y3Rpb24nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEpXVFBheWxvYWQge1xyXG4gIHVzZXJJZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIHJvbGU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbihwYXlsb2FkOiBKV1RQYXlsb2FkKTogc3RyaW5nIHtcclxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICc3ZCcgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBKV1RQYXlsb2FkIHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgY29uc29sZS5lcnJvcigndmVyaWZ5VG9rZW46IE5vIHRva2VuIHByb3ZpZGVkJylcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIEpXVFBheWxvYWRcclxuICAgIGNvbnNvbGUubG9nKCd2ZXJpZnlUb2tlbjogVG9rZW4gdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5JywgeyB1c2VySWQ6IGRlY29kZWQudXNlcklkLCBlbWFpbDogZGVjb2RlZC5lbWFpbCwgcm9sZTogZGVjb2RlZC5yb2xlIH0pXHJcbiAgICByZXR1cm4gZGVjb2RlZFxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ3ZlcmlmeVRva2VuOiBUb2tlbiB2ZXJpZmljYXRpb24gZmFpbGVkJywgeyBcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIFxyXG4gICAgICB0b2tlbkxlbmd0aDogdG9rZW4/Lmxlbmd0aCxcclxuICAgICAgc2VjcmV0TGVuZ3RoOiBKV1RfU0VDUkVULmxlbmd0aCBcclxuICAgIH0pXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGhVc2VyKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxKV1RQYXlsb2FkIHwgbnVsbD4ge1xyXG4gIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgndG9rZW4nKT8udmFsdWVcclxuICBcclxuICBpZiAoIXRva2VuKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHZlcmlmeVRva2VuKHRva2VuKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXV0aENvb2tpZShyZXNwb25zZTogTmV4dFJlc3BvbnNlLCB0b2tlbjogc3RyaW5nKSB7XHJcbiAgLy8gQ3LDqWVyIHVuIG5vdXZlYXUgY29va2llIGF2ZWMgdG91dGVzIGxlcyBvcHRpb25zIG7DqWNlc3NhaXJlc1xyXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KHtcclxuICAgIG5hbWU6ICd0b2tlbicsXHJcbiAgICB2YWx1ZTogdG9rZW4sXHJcbiAgICBodHRwT25seTogdHJ1ZSxcclxuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcclxuICAgIHNhbWVTaXRlOiAnbGF4JyxcclxuICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gNyBkYXlzXHJcbiAgICBwYXRoOiAnLycsXHJcbiAgfSlcclxuICBcclxuICBjb25zb2xlLmxvZygnQ29va2llIHNldCB3aXRoIHRva2VuIGxlbmd0aDonLCB0b2tlbi5sZW5ndGgpIC8vIERlYnVnXHJcbiAgY29uc29sZS5sb2coJ0Nvb2tpZSBvcHRpb25zOicsIHtcclxuICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxyXG4gICAgc2FtZVNpdGU6ICdsYXgnLFxyXG4gICAgcGF0aDogJy8nLFxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBdXRoQ29va2llKHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UpIHtcclxuICByZXNwb25zZS5jb29raWVzLmRlbGV0ZSgndG9rZW4nKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJqd3QiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImdlbmVyYXRlVG9rZW4iLCJwYXlsb2FkIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJjb25zb2xlIiwiZXJyb3IiLCJkZWNvZGVkIiwidmVyaWZ5IiwibG9nIiwidXNlcklkIiwiZW1haWwiLCJyb2xlIiwibWVzc2FnZSIsInRva2VuTGVuZ3RoIiwibGVuZ3RoIiwic2VjcmV0TGVuZ3RoIiwiZ2V0QXV0aFVzZXIiLCJyZXF1ZXN0IiwiY29va2llcyIsImdldCIsInZhbHVlIiwic2V0QXV0aENvb2tpZSIsInJlc3BvbnNlIiwic2V0IiwibmFtZSIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJwYXRoIiwicmVtb3ZlQXV0aENvb2tpZSIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/models.ts":
/*!***********************!*\
  !*** ./lib/models.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAdvertisement: () => (/* binding */ createAdvertisement),\n/* harmony export */   createBrand: () => (/* binding */ createBrand),\n/* harmony export */   createCategory: () => (/* binding */ createCategory),\n/* harmony export */   createContact: () => (/* binding */ createContact),\n/* harmony export */   createNotification: () => (/* binding */ createNotification),\n/* harmony export */   createOrder: () => (/* binding */ createOrder),\n/* harmony export */   createProduct: () => (/* binding */ createProduct),\n/* harmony export */   createSale: () => (/* binding */ createSale),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteAdvertisement: () => (/* binding */ deleteAdvertisement),\n/* harmony export */   deleteBrand: () => (/* binding */ deleteBrand),\n/* harmony export */   deleteCategory: () => (/* binding */ deleteCategory),\n/* harmony export */   deleteContact: () => (/* binding */ deleteContact),\n/* harmony export */   deleteNotification: () => (/* binding */ deleteNotification),\n/* harmony export */   deleteOrder: () => (/* binding */ deleteOrder),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   deleteSale: () => (/* binding */ deleteSale),\n/* harmony export */   getActiveAdvertisements: () => (/* binding */ getActiveAdvertisements),\n/* harmony export */   getAdvertisementById: () => (/* binding */ getAdvertisementById),\n/* harmony export */   getAdvertisements: () => (/* binding */ getAdvertisements),\n/* harmony export */   getBrandById: () => (/* binding */ getBrandById),\n/* harmony export */   getBrands: () => (/* binding */ getBrands),\n/* harmony export */   getCategories: () => (/* binding */ getCategories),\n/* harmony export */   getCategoryById: () => (/* binding */ getCategoryById),\n/* harmony export */   getContactById: () => (/* binding */ getContactById),\n/* harmony export */   getContacts: () => (/* binding */ getContacts),\n/* harmony export */   getNotifications: () => (/* binding */ getNotifications),\n/* harmony export */   getOrderById: () => (/* binding */ getOrderById),\n/* harmony export */   getOrders: () => (/* binding */ getOrders),\n/* harmony export */   getOrdersByUserId: () => (/* binding */ getOrdersByUserId),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getSaleById: () => (/* binding */ getSaleById),\n/* harmony export */   getSales: () => (/* binding */ getSales),\n/* harmony export */   getUnreadNotificationsCount: () => (/* binding */ getUnreadNotificationsCount),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   markAllNotificationsAsRead: () => (/* binding */ markAllNotificationsAsRead),\n/* harmony export */   markNotificationAsRead: () => (/* binding */ markNotificationAsRead),\n/* harmony export */   updateAdvertisement: () => (/* binding */ updateAdvertisement),\n/* harmony export */   updateBrand: () => (/* binding */ updateBrand),\n/* harmony export */   updateCategory: () => (/* binding */ updateCategory),\n/* harmony export */   updateContact: () => (/* binding */ updateContact),\n/* harmony export */   updateOrder: () => (/* binding */ updateOrder),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   updateSale: () => (/* binding */ updateSale)\n/* harmony export */ });\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mongodb */ \"(rsc)/./lib/mongodb.ts\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function getUsers() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const users = await db.collection('users').find({}).toArray();\n    // Convertir les ObjectId en string\n    return users.map((user)=>({\n            ...user,\n            _id: user._id?.toString()\n        }));\n}\nasync function getUserByEmail(email) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const user = await db.collection('users').findOne({\n        email\n    });\n    if (!user) {\n        return null;\n    }\n    console.log('getUserByEmail - Found user:', {\n        email: user.email,\n        role: user.role\n    }) // Debug\n    ;\n    return {\n        ...user,\n        _id: user._id?.toString() || user._id?.toString(),\n        role: user.role || 'user'\n    };\n}\nasync function createUser(user) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('users').insertOne({\n        ...user,\n        role: user.role || 'user',\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function getProducts() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    return db.collection('products').find({}).sort({\n        createdAt: -1\n    }).toArray();\n}\nasync function getProductById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    return db.collection('products').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\nasync function createProduct(product) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('products').insertOne({\n        ...product,\n        stock: product.stock || 0,\n        isActive: product.isActive !== undefined ? product.isActive : true,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateProduct(id, product) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('products').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...product,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteProduct(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('products').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\nasync function getContacts() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    return db.collection('contacts').find({}).sort({\n        createdAt: -1\n    }).toArray();\n}\nasync function getContactById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    return db.collection('contacts').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\nasync function createContact(contact) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('contacts').insertOne({\n        ...contact,\n        status: 'new',\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateContact(id, contact) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('contacts').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...contact,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteContact(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('contacts').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\nasync function getOrders() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const orders = await db.collection('orders').find({}).sort({\n        createdAt: -1\n    }).toArray();\n    return orders.map((order)=>({\n            ...order,\n            _id: order._id?.toString()\n        }));\n}\nasync function getOrdersByUserId(userId) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const orders = await db.collection('orders').find({\n        userId\n    }).sort({\n        createdAt: -1\n    }).toArray();\n    return orders.map((order)=>({\n            ...order,\n            _id: order._id?.toString()\n        }));\n}\nasync function getOrderById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const order = await db.collection('orders').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    if (!order) return null;\n    return {\n        ...order,\n        _id: order._id?.toString()\n    };\n}\nasync function createOrder(order) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('orders').insertOne({\n        ...order,\n        status: order.status || 'pending',\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateOrder(id, order) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('orders').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...order,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteOrder(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('orders').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\n// Category functions\nasync function getCategories() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const categories = await db.collection('categories').find({}).sort({\n        name: 1\n    }).toArray();\n    return categories.map((cat)=>({\n            ...cat,\n            _id: cat._id?.toString()\n        }));\n}\nasync function getCategoryById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const category = await db.collection('categories').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    if (!category) return null;\n    return {\n        ...category,\n        _id: category._id?.toString()\n    };\n}\nasync function createCategory(category) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('categories').insertOne({\n        ...category,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateCategory(id, category) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('categories').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...category,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteCategory(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('categories').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\n// Brand functions\nasync function getBrands() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const brands = await db.collection('brands').find({}).sort({\n        name: 1\n    }).toArray();\n    return brands.map((brand)=>({\n            ...brand,\n            _id: brand._id?.toString()\n        }));\n}\nasync function getBrandById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const brand = await db.collection('brands').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    if (!brand) return null;\n    return {\n        ...brand,\n        _id: brand._id?.toString()\n    };\n}\nasync function createBrand(brand) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('brands').insertOne({\n        ...brand,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateBrand(id, brand) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('brands').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...brand,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteBrand(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('brands').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\nasync function getSales() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const sales = await db.collection('sales').find({}).sort({\n        createdAt: -1\n    }).toArray();\n    return sales.map((sale)=>({\n            ...sale,\n            _id: sale._id?.toString(),\n            orderId: sale.orderId?.toString()\n        }));\n}\nasync function getSaleById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const sale = await db.collection('sales').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    if (!sale) return null;\n    return {\n        ...sale,\n        _id: sale._id?.toString(),\n        orderId: sale.orderId?.toString()\n    };\n}\nasync function createSale(sale) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('sales').insertOne({\n        ...sale,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateSale(id, sale) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('sales').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...sale,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteSale(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('sales').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\n// Notification CRUD\nasync function getNotifications() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const notifications = await db.collection('notifications').find({}).sort({\n        createdAt: -1\n    }).limit(50).toArray();\n    return notifications.map((notification)=>({\n            ...notification,\n            _id: notification._id?.toString()\n        }));\n}\nasync function getUnreadNotificationsCount() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    return await db.collection('notifications').countDocuments({\n        isRead: {\n            $ne: true\n        }\n    });\n}\nasync function createNotification(notification) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('notifications').insertOne({\n        ...notification,\n        isRead: false,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function markNotificationAsRead(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('notifications').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            isRead: true,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function markAllNotificationsAsRead() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('notifications').updateMany({\n        isRead: {\n            $ne: true\n        }\n    }, {\n        $set: {\n            isRead: true,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteNotification(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('notifications').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\n// Advertisement CRUD\nasync function getAdvertisements() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const advertisements = await db.collection('advertisements').find({}).sort({\n        createdAt: -1\n    }).toArray();\n    return advertisements.map((ad)=>({\n            ...ad,\n            _id: ad._id?.toString()\n        }));\n}\nasync function getActiveAdvertisements() {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const advertisements = await db.collection('advertisements').find({\n        isActive: true\n    }).toArray();\n    return advertisements.map((ad)=>({\n            ...ad,\n            _id: ad._id?.toString()\n        }));\n}\nasync function getAdvertisementById(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const ad = await db.collection('advertisements').findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    if (!ad) return null;\n    return {\n        ...ad,\n        _id: ad._id?.toString()\n    };\n}\nasync function createAdvertisement(advertisement) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    const result = await db.collection('advertisements').insertOne({\n        ...advertisement,\n        isActive: advertisement.isActive ?? true,\n        createdAt: new Date(),\n        updatedAt: new Date()\n    });\n    return result.insertedId;\n}\nasync function updateAdvertisement(id, advertisement) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('advertisements').updateOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: {\n            ...advertisement,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function deleteAdvertisement(id) {\n    const client = await _mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    const db = client.db('shoplyeasy');\n    await db.collection('advertisements').deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xDLE1BQU1JLEtBQUtELE9BQU9DLEVBQUUsQ0FBQztJQUNyQixNQUFNZ0IsU0FBUyxNQUFNaEIsR0FBR0UsVUFBVSxDQUFnQixrQkFBa0JlLFNBQVMsQ0FBQztRQUM1RSxHQUFHOEUsYUFBYTtRQUNoQmxFLFVBQVVrRSxjQUFjbEUsUUFBUSxJQUFJO1FBQ3BDWCxXQUFXLElBQUlDO1FBQ2ZDLFdBQVcsSUFBSUQ7SUFDakI7SUFDQSxPQUFPSCxPQUFPSyxVQUFVO0FBQzFCO0FBRU8sZUFBZTJFLG9CQUFvQnZFLEVBQVUsRUFBRXNFLGFBQXFDO0lBQ3pGLE1BQU1oRyxTQUFTLE1BQU1ILGdEQUFhQTtJQUNsQyxNQUFNSSxLQUFLRCxPQUFPQyxFQUFFLENBQUM7SUFDckIsTUFBTUEsR0FBR0UsVUFBVSxDQUFnQixrQkFBa0I4QixTQUFTLENBQzVEO1FBQUV6QixLQUFLLElBQUlWLDZDQUFRQSxDQUFDNEI7SUFBVyxHQUMvQjtRQUFFUSxNQUFNO1lBQUUsR0FBRzhELGFBQWE7WUFBRTNFLFdBQVcsSUFBSUQ7UUFBTztJQUFFO0FBRXhEO0FBRU8sZUFBZThFLG9CQUFvQnhFLEVBQVU7SUFDbEQsTUFBTTFCLFNBQVMsTUFBTUgsZ0RBQWFBO0lBQ2xDLE1BQU1JLEtBQUtELE9BQU9DLEVBQUUsQ0FBQztJQUNyQixNQUFNQSxHQUFHRSxVQUFVLENBQWdCLGtCQUFrQmlDLFNBQVMsQ0FBQztRQUFFNUIsS0FBSyxJQUFJViw2Q0FBUUEsQ0FBQzRCO0lBQVc7QUFDaEciLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUENcXERvd25sb2Fkc1xcc2hvcGx5ZWFzeVxcc2hvcGx5ZWFzeVxcbGliXFxtb2RlbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnLi9tb25nb2RiJ1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xyXG4gIF9pZD86IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBwaG9uZTogc3RyaW5nXHJcbiAgcGFzc3dvcmQ6IHN0cmluZ1xyXG4gIHJvbGU/OiAndXNlcicgfCAnYWRtaW4nXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeSB7XHJcbiAgX2lkPzogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgY2F0ZWdvcnlUeXBlPzogJ2NoYXVzc3VyZXMnIHwgJ3ZldGVtZW50cycgfCAnYmlqb3V4JyB8ICdhdXRyZScgIC8vIFR5cGUgZGUgY2F0w6lnb3JpZSBzw6lsZWN0aW9ubsOpIHBhciBsJ3V0aWxpc2F0ZXVyXHJcbiAgc2l6ZVR5cGU/OiAnbnVtZXJpYycgfCAnbGV0dGVyJyB8ICdub25lJyAgLy8gbnVtZXJpYyBwb3VyIGNoYXVzc3VyZXMgKDM2LTQ1KSwgbGV0dGVyIHBvdXIgdsOqdGVtZW50cyAoWFMtWFhMKSwgbm9uZSBwb3VyIGF1dHJlc1xyXG4gIHNpemVzPzogc3RyaW5nW10gIC8vIExpc3RlIGRlcyB0YWlsbGVzIGRpc3BvbmlibGVzIHBvdXIgY2V0dGUgY2F0w6lnb3JpZSAoZXg6IFtcIlhTXCIsIFwiU1wiLCBcIk1cIiwgXCJMXCIsIFwiWExcIiwgXCJYWExcIl0gb3UgW1wiMzZcIiwgXCIzN1wiLCBcIjM4XCIsIC4uLl0pXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCcmFuZCB7XHJcbiAgX2lkPzogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgaW1hZ2U/OiBzdHJpbmcgIC8vIFVSTCBkZSBsJ2ltYWdlIGRlIGxhIG1hcnF1ZVxyXG4gIGNyZWF0ZWRBdD86IERhdGVcclxuICB1cGRhdGVkQXQ/OiBEYXRlXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdCB7XHJcbiAgX2lkPzogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgc3VnZ2VzdGlvbnM/OiBzdHJpbmdbXSAgLy8gU3VnZ2VzdGlvbnMgZGUgbm9tcyBhbHRlcm5hdGlmc1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbkFyPzogc3RyaW5nICAvLyBEZXNjcmlwdGlvbiBlbiBhcmFiZVxyXG4gIGRlc2NyaXB0aW9uRGVyamE/OiBzdHJpbmcgIC8vIERlc2NyaXB0aW9uIGVuIGRlcmphXHJcbiAgcHJpY2U6IG51bWJlciAgLy8gUHJpeCBkZSB2ZW50ZVxyXG4gIHB1cmNoYXNlUHJpY2U/OiBudW1iZXIgIC8vIFByaXggZCdhY2hhdFxyXG4gIGltYWdlOiBzdHJpbmdcclxuICBjYXRlZ29yeT86IHN0cmluZyAgLy8gUsOpZsOpcmVuY2Ugw6AgbGEgY2F0w6lnb3JpZVxyXG4gIGJyYW5kPzogc3RyaW5nICAvLyBSw6lmw6lyZW5jZSDDoCBsYSBtYXJxdWVcclxuICBzaXplcz86IHsgc2l6ZTogc3RyaW5nOyBzdG9jazogbnVtYmVyIH1bXSAgLy8gVGFpbGxlcyBhdmVjIHN0b2NrIHBvdXIgY2hhdXNzdXJlcywgY2hlbWlzZXMsIHBhbnRhbG9uc1xyXG4gIGNvbG9ycz86IHsgY29sb3I6IHN0cmluZzsgY29sb3JDb2RlPzogc3RyaW5nOyBzdG9jaz86IG51bWJlciB9W10gIC8vIENvdWxldXJzIGRpc3BvbmlibGVzIChwb3VyIGJpam91eCwgZXRjLilcclxuICBnYWxsZXJ5Pzogc3RyaW5nW11cclxuICBzdG9jaz86IG51bWJlciAgLy8gU3RvY2sgZ8OpbsOpcmFsIChwb3VyIHByb2R1aXRzIHNhbnMgdGFpbGxlcyBuaSBjb3VsZXVycylcclxuICBiYXJjb2RlPzogc3RyaW5nICAvLyBDb2RlIMOgIGJhcnJlc1xyXG4gIGlzQWN0aXZlPzogYm9vbGVhblxyXG4gIGlzTmV3PzogYm9vbGVhbiAgLy8gTm91dmVhdSBwcm9kdWl0XHJcbiAgaXNQcm9tbz86IGJvb2xlYW4gIC8vIEVuIHByb21vdGlvblxyXG4gIHByb21vUHJpY2U/OiBudW1iZXIgIC8vIFByaXggcHJvbW90aW9ubmVsXHJcbiAgYXZhaWxhYmxlT25PcmRlcj86IGJvb2xlYW4gIC8vIERpc3BvbmlibGUgc3VyIGNvbW1hbmRlIChzaSBwYXMgZGUgc3RvY2spXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb250YWN0IHtcclxuICBfaWQ/OiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBlbWFpbDogc3RyaW5nXHJcbiAgcGhvbmU/OiBzdHJpbmdcclxuICBzdWJqZWN0Pzogc3RyaW5nXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbiAgc3RhdHVzPzogJ25ldycgfCAncmVhZCcgfCAncmVwbGllZCdcclxuICBjcmVhdGVkQXQ/OiBEYXRlXHJcbiAgdXBkYXRlZEF0PzogRGF0ZVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyIHtcclxuICBfaWQ/OiBzdHJpbmdcclxuICB1c2VySWQ/OiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBlbWFpbD86IHN0cmluZ1xyXG4gIHBob25lOiBzdHJpbmdcclxuICBhZGRyZXNzOiBzdHJpbmdcclxuICBpdGVtczoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBwcmljZTogbnVtYmVyXHJcbiAgICBxdWFudGl0eTogbnVtYmVyXHJcbiAgfVtdXHJcbiAgdG90YWw6IG51bWJlclxyXG4gIHN0YXR1cz86ICdlbl9hdHRlbnRlJyB8ICdlbl9jb3VycycgfCAnY29uZmlybWVlJyB8ICdlbl9saXZyYWlzb24nIHwgJ3Rlcm1pbmVlJyB8ICdwZW5kaW5nJyB8ICdwcm9jZXNzaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCcgfCAnYW5udWxlZSdcclxuICBwYXltZW50TWV0aG9kPzogc3RyaW5nXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJzKCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgdXNlcnMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPFVzZXI+KCd1c2VycycpLmZpbmQoe30pLnRvQXJyYXkoKVxyXG4gIC8vIENvbnZlcnRpciBsZXMgT2JqZWN0SWQgZW4gc3RyaW5nXHJcbiAgcmV0dXJuIHVzZXJzLm1hcCgodXNlcjogYW55KSA9PiAoe1xyXG4gICAgLi4udXNlcixcclxuICAgIF9pZDogdXNlci5faWQ/LnRvU3RyaW5nKCksXHJcbiAgfSkpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCB1c2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbjxVc2VyPigndXNlcnMnKS5maW5kT25lKHsgZW1haWwgfSlcclxuICBcclxuICBpZiAoIXVzZXIpIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdnZXRVc2VyQnlFbWFpbCAtIEZvdW5kIHVzZXI6JywgeyBlbWFpbDogdXNlci5lbWFpbCwgcm9sZTogdXNlci5yb2xlIH0pIC8vIERlYnVnXHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnVzZXIsXHJcbiAgICBfaWQ6IHVzZXIuX2lkPy50b1N0cmluZygpIHx8ICh1c2VyLl9pZCBhcyBhbnkpPy50b1N0cmluZygpLFxyXG4gICAgcm9sZTogdXNlci5yb2xlIHx8ICd1c2VyJywgLy8gUydhc3N1cmVyIHF1ZSBsZSByw7RsZSBlc3QgZMOpZmluaVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXIodXNlcjogT21pdDxVc2VyLCAnX2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPFVzZXI+KCd1c2VycycpLmluc2VydE9uZSh7XHJcbiAgICAuLi51c2VyLFxyXG4gICAgcm9sZTogdXNlci5yb2xlIHx8ICd1c2VyJywgLy8gVXRpbGlzZXIgbGUgcsO0bGUgZm91cm5pIG91ICd1c2VyJyBwYXIgZMOpZmF1dFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gIH0pXHJcbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRlZElkXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIHJldHVybiBkYi5jb2xsZWN0aW9uPFByb2R1Y3Q+KCdwcm9kdWN0cycpLmZpbmQoe30pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLnRvQXJyYXkoKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdEJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb248UHJvZHVjdD4oJ3Byb2R1Y3RzJykuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3QocHJvZHVjdDogT21pdDxQcm9kdWN0LCAnX2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPFByb2R1Y3Q+KCdwcm9kdWN0cycpLmluc2VydE9uZSh7XHJcbiAgICAuLi5wcm9kdWN0LFxyXG4gICAgc3RvY2s6IHByb2R1Y3Quc3RvY2sgfHwgMCxcclxuICAgIGlzQWN0aXZlOiBwcm9kdWN0LmlzQWN0aXZlICE9PSB1bmRlZmluZWQgPyBwcm9kdWN0LmlzQWN0aXZlIDogdHJ1ZSxcclxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICB9KVxyXG4gIHJldHVybiByZXN1bHQuaW5zZXJ0ZWRJZFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZHVjdChpZDogc3RyaW5nLCBwcm9kdWN0OiBQYXJ0aWFsPFByb2R1Y3Q+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBhd2FpdCBkYi5jb2xsZWN0aW9uPFByb2R1Y3Q+KCdwcm9kdWN0cycpLnVwZGF0ZU9uZShcclxuICAgIHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9LFxyXG4gICAgeyAkc2V0OiB7IC4uLnByb2R1Y3QsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9IH1cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9kdWN0KGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248UHJvZHVjdD4oJ3Byb2R1Y3RzJykuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29udGFjdHMoKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICByZXR1cm4gZGIuY29sbGVjdGlvbjxDb250YWN0PignY29udGFjdHMnKS5maW5kKHt9KS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KS50b0FycmF5KClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnRhY3RCeUlkKGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIHJldHVybiBkYi5jb2xsZWN0aW9uPENvbnRhY3Q+KCdjb250YWN0cycpLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb250YWN0KGNvbnRhY3Q6IE9taXQ8Q29udGFjdCwgJ19pZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnIHwgJ3N0YXR1cyc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPENvbnRhY3Q+KCdjb250YWN0cycpLmluc2VydE9uZSh7XHJcbiAgICAuLi5jb250YWN0LFxyXG4gICAgc3RhdHVzOiAnbmV3JyxcclxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICB9KVxyXG4gIHJldHVybiByZXN1bHQuaW5zZXJ0ZWRJZFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29udGFjdChpZDogc3RyaW5nLCBjb250YWN0OiBQYXJ0aWFsPENvbnRhY3Q+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBhd2FpdCBkYi5jb2xsZWN0aW9uPENvbnRhY3Q+KCdjb250YWN0cycpLnVwZGF0ZU9uZShcclxuICAgIHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9LFxyXG4gICAgeyAkc2V0OiB7IC4uLmNvbnRhY3QsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9IH1cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb250YWN0KGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248Q29udGFjdD4oJ2NvbnRhY3RzJykuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXJzKCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgZGIuY29sbGVjdGlvbjxPcmRlcj4oJ29yZGVycycpLmZpbmQoe30pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLnRvQXJyYXkoKVxyXG4gIHJldHVybiBvcmRlcnMubWFwKChvcmRlcjogYW55KSA9PiAoe1xyXG4gICAgLi4ub3JkZXIsXHJcbiAgICBfaWQ6IG9yZGVyLl9pZD8udG9TdHJpbmcoKSxcclxuICB9KSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yZGVyc0J5VXNlcklkKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCBvcmRlcnMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPE9yZGVyPignb3JkZXJzJykuZmluZCh7IHVzZXJJZCB9KS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KS50b0FycmF5KClcclxuICByZXR1cm4gb3JkZXJzLm1hcCgob3JkZXI6IGFueSkgPT4gKHtcclxuICAgIC4uLm9yZGVyLFxyXG4gICAgX2lkOiBvcmRlci5faWQ/LnRvU3RyaW5nKCksXHJcbiAgfSkpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPE9yZGVyPignb3JkZXJzJykuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSlcclxuICBpZiAoIW9yZGVyKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5vcmRlcixcclxuICAgIF9pZDogb3JkZXIuX2lkPy50b1N0cmluZygpLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKG9yZGVyOiBPbWl0PE9yZGVyLCAnX2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPE9yZGVyPignb3JkZXJzJykuaW5zZXJ0T25lKHtcclxuICAgIC4uLm9yZGVyLFxyXG4gICAgc3RhdHVzOiBvcmRlci5zdGF0dXMgfHwgJ3BlbmRpbmcnLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gIH0pXHJcbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRlZElkXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlcihpZDogc3RyaW5nLCBvcmRlcjogUGFydGlhbDxPcmRlcj4pIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248T3JkZXI+KCdvcmRlcnMnKS51cGRhdGVPbmUoXHJcbiAgICB7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSxcclxuICAgIHsgJHNldDogeyAuLi5vcmRlciwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0gfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU9yZGVyKGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248T3JkZXI+KCdvcmRlcnMnKS5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbn1cclxuXHJcbi8vIENhdGVnb3J5IGZ1bmN0aW9uc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPENhdGVnb3J5PignY2F0ZWdvcmllcycpLmZpbmQoe30pLnNvcnQoeyBuYW1lOiAxIH0pLnRvQXJyYXkoKVxyXG4gIHJldHVybiBjYXRlZ29yaWVzLm1hcCgoY2F0OiBhbnkpID0+ICh7XHJcbiAgICAuLi5jYXQsXHJcbiAgICBfaWQ6IGNhdC5faWQ/LnRvU3RyaW5nKCksXHJcbiAgfSkpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPENhdGVnb3J5PignY2F0ZWdvcmllcycpLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbiAgaWYgKCFjYXRlZ29yeSkgcmV0dXJuIG51bGxcclxuICByZXR1cm4ge1xyXG4gICAgLi4uY2F0ZWdvcnksXHJcbiAgICBfaWQ6IGNhdGVnb3J5Ll9pZD8udG9TdHJpbmcoKSxcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShjYXRlZ29yeTogT21pdDxDYXRlZ29yeSwgJ19pZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbjxDYXRlZ29yeT4oJ2NhdGVnb3JpZXMnKS5pbnNlcnRPbmUoe1xyXG4gICAgLi4uY2F0ZWdvcnksXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgfSlcclxuICByZXR1cm4gcmVzdWx0Lmluc2VydGVkSWRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3J5KGlkOiBzdHJpbmcsIGNhdGVnb3J5OiBQYXJ0aWFsPENhdGVnb3J5Pikge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgYXdhaXQgZGIuY29sbGVjdGlvbjxDYXRlZ29yeT4oJ2NhdGVnb3JpZXMnKS51cGRhdGVPbmUoXHJcbiAgICB7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSxcclxuICAgIHsgJHNldDogeyAuLi5jYXRlZ29yeSwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0gfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNhdGVnb3J5KGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248Q2F0ZWdvcnk+KCdjYXRlZ29yaWVzJykuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9KVxyXG59XHJcblxyXG4vLyBCcmFuZCBmdW5jdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJyYW5kcygpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGNvbnN0IGJyYW5kcyA9IGF3YWl0IGRiLmNvbGxlY3Rpb248QnJhbmQ+KCdicmFuZHMnKS5maW5kKHt9KS5zb3J0KHsgbmFtZTogMSB9KS50b0FycmF5KClcclxuICByZXR1cm4gYnJhbmRzLm1hcCgoYnJhbmQ6IGFueSkgPT4gKHtcclxuICAgIC4uLmJyYW5kLFxyXG4gICAgX2lkOiBicmFuZC5faWQ/LnRvU3RyaW5nKCksXHJcbiAgfSkpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCcmFuZEJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgYnJhbmQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPEJyYW5kPignYnJhbmRzJykuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSlcclxuICBpZiAoIWJyYW5kKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5icmFuZCxcclxuICAgIF9pZDogYnJhbmQuX2lkPy50b1N0cmluZygpLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJyYW5kKGJyYW5kOiBPbWl0PEJyYW5kLCAnX2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPEJyYW5kPignYnJhbmRzJykuaW5zZXJ0T25lKHtcclxuICAgIC4uLmJyYW5kLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gIH0pXHJcbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRlZElkXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVCcmFuZChpZDogc3RyaW5nLCBicmFuZDogUGFydGlhbDxCcmFuZD4pIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248QnJhbmQ+KCdicmFuZHMnKS51cGRhdGVPbmUoXHJcbiAgICB7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSxcclxuICAgIHsgJHNldDogeyAuLi5icmFuZCwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0gfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUJyYW5kKGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248QnJhbmQ+KCdicmFuZHMnKS5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uIHtcclxuICBfaWQ/OiBzdHJpbmdcclxuICB0eXBlOiAnY29udGFjdCcgfCAnb3JkZXInIHwgJ3NhbGUnIHwgJ2F1dGgnIHwgJ3N5c3RlbSdcclxuICB0aXRsZTogc3RyaW5nXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbiAgbGluaz86IHN0cmluZ1xyXG4gIGlzUmVhZD86IGJvb2xlYW5cclxuICBjcmVhdGVkQXQ/OiBEYXRlXHJcbiAgdXBkYXRlZEF0PzogRGF0ZVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFkdmVydGlzZW1lbnQge1xyXG4gIF9pZD86IHN0cmluZ1xyXG4gIGltYWdlOiBzdHJpbmdcclxuICB2aWRlbz86IHN0cmluZ1xyXG4gIHR5cGU/OiAnaW1hZ2UnIHwgJ3ZpZGVvJ1xyXG4gIGxpbms/OiBzdHJpbmdcclxuICBwb3NpdGlvbj86IHtcclxuICAgIHg6IG51bWJlclxyXG4gICAgeTogbnVtYmVyXHJcbiAgICBzZWN0aW9uPzogJ2hlYWRlcicgfCAnc2lkZWJhcicgfCAnY29udGVudCcgfCAnZm9vdGVyJ1xyXG4gIH1cclxuICBzZWN0aW9uPzogJ2hlYWRlcicgfCAnc2lkZWJhcicgfCAnY29udGVudCcgfCAnZm9vdGVyJyB8ICdoZXJvJyB8ICdtYWluJ1xyXG4gIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnXHJcbiAgaXNBY3RpdmU/OiBib29sZWFuXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTYWxlIHtcclxuICBfaWQ/OiBzdHJpbmdcclxuICBvcmRlcklkPzogc3RyaW5nXHJcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmdcclxuICBjdXN0b21lclBob25lPzogc3RyaW5nXHJcbiAgaXRlbXM6IHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgcHJpY2U6IG51bWJlclxyXG4gICAgcXVhbnRpdHk6IG51bWJlclxyXG4gIH1bXVxyXG4gIHRvdGFsOiBudW1iZXJcclxuICBwYXltZW50TWV0aG9kPzogc3RyaW5nXHJcbiAgcmVjZWlwdE51bWJlcj86IHN0cmluZ1xyXG4gIG5vdGVzPzogc3RyaW5nXHJcbiAgY3JlYXRlZEF0PzogRGF0ZVxyXG4gIHVwZGF0ZWRBdD86IERhdGVcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNhbGVzKCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3Qgc2FsZXMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPFNhbGU+KCdzYWxlcycpLmZpbmQoe30pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLnRvQXJyYXkoKVxyXG4gIHJldHVybiBzYWxlcy5tYXAoKHNhbGU6IGFueSkgPT4gKHtcclxuICAgIC4uLnNhbGUsXHJcbiAgICBfaWQ6IHNhbGUuX2lkPy50b1N0cmluZygpLFxyXG4gICAgb3JkZXJJZDogc2FsZS5vcmRlcklkPy50b1N0cmluZygpLFxyXG4gIH0pKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2FsZUJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3Qgc2FsZSA9IGF3YWl0IGRiLmNvbGxlY3Rpb248U2FsZT4oJ3NhbGVzJykuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSlcclxuICBpZiAoIXNhbGUpIHJldHVybiBudWxsXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnNhbGUsXHJcbiAgICBfaWQ6IHNhbGUuX2lkPy50b1N0cmluZygpLFxyXG4gICAgb3JkZXJJZDogc2FsZS5vcmRlcklkPy50b1N0cmluZygpLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNhbGUoc2FsZTogT21pdDxTYWxlLCAnX2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPFNhbGU+KCdzYWxlcycpLmluc2VydE9uZSh7XHJcbiAgICAuLi5zYWxlLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gIH0pXHJcbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRlZElkXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTYWxlKGlkOiBzdHJpbmcsIHNhbGU6IFBhcnRpYWw8U2FsZT4pIHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Nob3BseWVhc3knKVxyXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb248U2FsZT4oJ3NhbGVzJykudXBkYXRlT25lKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0sXHJcbiAgICB7ICRzZXQ6IHsgLi4uc2FsZSwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0gfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVNhbGUoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgYXdhaXQgZGIuY29sbGVjdGlvbjxTYWxlPignc2FsZXMnKS5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbn1cclxuXHJcbi8vIE5vdGlmaWNhdGlvbiBDUlVEXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25zKCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IGRiLmNvbGxlY3Rpb248Tm90aWZpY2F0aW9uPignbm90aWZpY2F0aW9ucycpLmZpbmQoe30pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLmxpbWl0KDUwKS50b0FycmF5KClcclxuICByZXR1cm4gbm90aWZpY2F0aW9ucy5tYXAoKG5vdGlmaWNhdGlvbjogYW55KSA9PiAoe1xyXG4gICAgLi4ubm90aWZpY2F0aW9uLFxyXG4gICAgX2lkOiBub3RpZmljYXRpb24uX2lkPy50b1N0cmluZygpLFxyXG4gIH0pKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VW5yZWFkTm90aWZpY2F0aW9uc0NvdW50KCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgcmV0dXJuIGF3YWl0IGRiLmNvbGxlY3Rpb248Tm90aWZpY2F0aW9uPignbm90aWZpY2F0aW9ucycpLmNvdW50RG9jdW1lbnRzKHsgaXNSZWFkOiB7ICRuZTogdHJ1ZSB9IH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBPbWl0PE5vdGlmaWNhdGlvbiwgJ19pZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbjxOb3RpZmljYXRpb24+KCdub3RpZmljYXRpb25zJykuaW5zZXJ0T25lKHtcclxuICAgIC4uLm5vdGlmaWNhdGlvbixcclxuICAgIGlzUmVhZDogZmFsc2UsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgfSlcclxuICByZXR1cm4gcmVzdWx0Lmluc2VydGVkSWRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtOb3RpZmljYXRpb25Bc1JlYWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgYXdhaXQgZGIuY29sbGVjdGlvbjxOb3RpZmljYXRpb24+KCdub3RpZmljYXRpb25zJykudXBkYXRlT25lKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0sXHJcbiAgICB7ICRzZXQ6IHsgaXNSZWFkOiB0cnVlLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSB9XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQoKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBhd2FpdCBkYi5jb2xsZWN0aW9uPE5vdGlmaWNhdGlvbj4oJ25vdGlmaWNhdGlvbnMnKS51cGRhdGVNYW55KFxyXG4gICAgeyBpc1JlYWQ6IHsgJG5lOiB0cnVlIH0gfSxcclxuICAgIHsgJHNldDogeyBpc1JlYWQ6IHRydWUsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9IH1cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVOb3RpZmljYXRpb24oaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgYXdhaXQgZGIuY29sbGVjdGlvbjxOb3RpZmljYXRpb24+KCdub3RpZmljYXRpb25zJykuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIGFzIGFueSB9KVxyXG59XHJcblxyXG4vLyBBZHZlcnRpc2VtZW50IENSVURcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFkdmVydGlzZW1lbnRzKCkge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgYWR2ZXJ0aXNlbWVudHMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPEFkdmVydGlzZW1lbnQ+KCdhZHZlcnRpc2VtZW50cycpLmZpbmQoe30pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLnRvQXJyYXkoKVxyXG4gIHJldHVybiBhZHZlcnRpc2VtZW50cy5tYXAoKGFkOiBhbnkpID0+ICh7XHJcbiAgICAuLi5hZCxcclxuICAgIF9pZDogYWQuX2lkPy50b1N0cmluZygpLFxyXG4gIH0pKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlQWR2ZXJ0aXNlbWVudHMoKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBjb25zdCBhZHZlcnRpc2VtZW50cyA9IGF3YWl0IGRiLmNvbGxlY3Rpb248QWR2ZXJ0aXNlbWVudD4oJ2FkdmVydGlzZW1lbnRzJykuZmluZCh7IGlzQWN0aXZlOiB0cnVlIH0pLnRvQXJyYXkoKVxyXG4gIHJldHVybiBhZHZlcnRpc2VtZW50cy5tYXAoKGFkOiBhbnkpID0+ICh7XHJcbiAgICAuLi5hZCxcclxuICAgIF9pZDogYWQuX2lkPy50b1N0cmluZygpLFxyXG4gIH0pKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWR2ZXJ0aXNlbWVudEJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgYWQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uPEFkdmVydGlzZW1lbnQ+KCdhZHZlcnRpc2VtZW50cycpLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgYXMgYW55IH0pXHJcbiAgaWYgKCFhZCkgcmV0dXJuIG51bGxcclxuICByZXR1cm4ge1xyXG4gICAgLi4uYWQsXHJcbiAgICBfaWQ6IGFkLl9pZD8udG9TdHJpbmcoKSxcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBZHZlcnRpc2VtZW50KGFkdmVydGlzZW1lbnQ6IE9taXQ8QWR2ZXJ0aXNlbWVudCwgJ19pZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbjxBZHZlcnRpc2VtZW50PignYWR2ZXJ0aXNlbWVudHMnKS5pbnNlcnRPbmUoe1xyXG4gICAgLi4uYWR2ZXJ0aXNlbWVudCxcclxuICAgIGlzQWN0aXZlOiBhZHZlcnRpc2VtZW50LmlzQWN0aXZlID8/IHRydWUsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgfSlcclxuICByZXR1cm4gcmVzdWx0Lmluc2VydGVkSWRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFkdmVydGlzZW1lbnQoaWQ6IHN0cmluZywgYWR2ZXJ0aXNlbWVudDogUGFydGlhbDxBZHZlcnRpc2VtZW50Pikge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignc2hvcGx5ZWFzeScpXHJcbiAgYXdhaXQgZGIuY29sbGVjdGlvbjxBZHZlcnRpc2VtZW50PignYWR2ZXJ0aXNlbWVudHMnKS51cGRhdGVPbmUoXHJcbiAgICB7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSxcclxuICAgIHsgJHNldDogeyAuLi5hZHZlcnRpc2VtZW50LCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSB9XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWR2ZXJ0aXNlbWVudChpZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzaG9wbHllYXN5JylcclxuICBhd2FpdCBkYi5jb2xsZWN0aW9uPEFkdmVydGlzZW1lbnQ+KCdhZHZlcnRpc2VtZW50cycpLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElkKGlkKSBhcyBhbnkgfSlcclxufVxyXG4iXSwibmFtZXMiOlsiY2xpZW50UHJvbWlzZSIsIk9iamVjdElkIiwiZ2V0VXNlcnMiLCJjbGllbnQiLCJkYiIsInVzZXJzIiwiY29sbGVjdGlvbiIsImZpbmQiLCJ0b0FycmF5IiwibWFwIiwidXNlciIsIl9pZCIsInRvU3RyaW5nIiwiZ2V0VXNlckJ5RW1haWwiLCJlbWFpbCIsImZpbmRPbmUiLCJjb25zb2xlIiwibG9nIiwicm9sZSIsImNyZWF0ZVVzZXIiLCJyZXN1bHQiLCJpbnNlcnRPbmUiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiaW5zZXJ0ZWRJZCIsImdldFByb2R1Y3RzIiwic29ydCIsImdldFByb2R1Y3RCeUlkIiwiaWQiLCJjcmVhdGVQcm9kdWN0IiwicHJvZHVjdCIsInN0b2NrIiwiaXNBY3RpdmUiLCJ1bmRlZmluZWQiLCJ1cGRhdGVQcm9kdWN0IiwidXBkYXRlT25lIiwiJHNldCIsImRlbGV0ZVByb2R1Y3QiLCJkZWxldGVPbmUiLCJnZXRDb250YWN0cyIsImdldENvbnRhY3RCeUlkIiwiY3JlYXRlQ29udGFjdCIsImNvbnRhY3QiLCJzdGF0dXMiLCJ1cGRhdGVDb250YWN0IiwiZGVsZXRlQ29udGFjdCIsImdldE9yZGVycyIsIm9yZGVycyIsIm9yZGVyIiwiZ2V0T3JkZXJzQnlVc2VySWQiLCJ1c2VySWQiLCJnZXRPcmRlckJ5SWQiLCJjcmVhdGVPcmRlciIsInVwZGF0ZU9yZGVyIiwiZGVsZXRlT3JkZXIiLCJnZXRDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsIm5hbWUiLCJjYXQiLCJnZXRDYXRlZ29yeUJ5SWQiLCJjYXRlZ29yeSIsImNyZWF0ZUNhdGVnb3J5IiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGVDYXRlZ29yeSIsImdldEJyYW5kcyIsImJyYW5kcyIsImJyYW5kIiwiZ2V0QnJhbmRCeUlkIiwiY3JlYXRlQnJhbmQiLCJ1cGRhdGVCcmFuZCIsImRlbGV0ZUJyYW5kIiwiZ2V0U2FsZXMiLCJzYWxlcyIsInNhbGUiLCJvcmRlcklkIiwiZ2V0U2FsZUJ5SWQiLCJjcmVhdGVTYWxlIiwidXBkYXRlU2FsZSIsImRlbGV0ZVNhbGUiLCJnZXROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsImxpbWl0Iiwibm90aWZpY2F0aW9uIiwiZ2V0VW5yZWFkTm90aWZpY2F0aW9uc0NvdW50IiwiY291bnREb2N1bWVudHMiLCJpc1JlYWQiLCIkbmUiLCJjcmVhdGVOb3RpZmljYXRpb24iLCJtYXJrTm90aWZpY2F0aW9uQXNSZWFkIiwibWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQiLCJ1cGRhdGVNYW55IiwiZGVsZXRlTm90aWZpY2F0aW9uIiwiZ2V0QWR2ZXJ0aXNlbWVudHMiLCJhZHZlcnRpc2VtZW50cyIsImFkIiwiZ2V0QWN0aXZlQWR2ZXJ0aXNlbWVudHMiLCJnZXRBZHZlcnRpc2VtZW50QnlJZCIsImNyZWF0ZUFkdmVydGlzZW1lbnQiLCJhZHZlcnRpc2VtZW50IiwidXBkYXRlQWR2ZXJ0aXNlbWVudCIsImRlbGV0ZUFkdmVydGlzZW1lbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/models.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI || 'mongodb+srv://zgolliaziz206_db_user:20082001@cluster0.x5cnvfa.mongodb.net/?appName=Cluster0';\nconst options = {};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFFckMsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7QUFDdkMsTUFBTUMsVUFBVSxDQUFDO0FBRWpCLElBQUlDO0FBQ0osSUFBSUM7QUFFSixJQUFJTCxJQUFzQyxFQUFFO0lBQzFDLCtEQUErRDtJQUMvRCw2RUFBNkU7SUFDN0UsSUFBSU0sa0JBQWtCQztJQUl0QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7UUFDeENKLFNBQVMsSUFBSU4sZ0RBQVdBLENBQUNDLEtBQUtJO1FBQzlCRyxnQkFBZ0JFLG1CQUFtQixHQUFHSixPQUFPSyxPQUFPO0lBQ3REO0lBQ0FKLGdCQUFnQkMsZ0JBQWdCRSxtQkFBbUI7QUFDckQsT0FBTyxFQUlOO0FBRUQsaUVBQWlFO0FBQ2pFLDhEQUE4RDtBQUM5RCxpRUFBZUgsYUFBYUEsRUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxQQ1xcRG93bmxvYWRzXFxzaG9wbHllYXN5XFxzaG9wbHllYXN5XFxsaWJcXG1vbmdvZGIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJ1xyXG5cclxuY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJ21vbmdvZGIrc3J2Oi8vemdvbGxpYXppejIwNl9kYl91c2VyOjIwMDgyMDAxQGNsdXN0ZXIwLng1Y252ZmEubW9uZ29kYi5uZXQvP2FwcE5hbWU9Q2x1c3RlcjAnXHJcbmNvbnN0IG9wdGlvbnMgPSB7fVxyXG5cclxubGV0IGNsaWVudDogTW9uZ29DbGllbnRcclxubGV0IGNsaWVudFByb21pc2U6IFByb21pc2U8TW9uZ29DbGllbnQ+XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAvLyBJbiBkZXZlbG9wbWVudCBtb2RlLCB1c2UgYSBnbG9iYWwgdmFyaWFibGUgc28gdGhhdCB0aGUgdmFsdWVcclxuICAvLyBpcyBwcmVzZXJ2ZWQgYWNyb3NzIG1vZHVsZSByZWxvYWRzIGNhdXNlZCBieSBITVIgKEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQpLlxyXG4gIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XHJcbiAgICBfbW9uZ29DbGllbnRQcm9taXNlPzogUHJvbWlzZTxNb25nb0NsaWVudD5cclxuICB9XHJcblxyXG4gIGlmICghZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UpIHtcclxuICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpXHJcbiAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcclxuICB9XHJcbiAgY2xpZW50UHJvbWlzZSA9IGdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlXHJcbn0gZWxzZSB7XHJcbiAgLy8gSW4gcHJvZHVjdGlvbiBtb2RlLCBpdCdzIGJlc3QgdG8gbm90IHVzZSBhIGdsb2JhbCB2YXJpYWJsZS5cclxuICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxyXG4gIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXHJcbn1cclxuXHJcbi8vIEV4cG9ydCBhIG1vZHVsZS1zY29wZWQgTW9uZ29DbGllbnQgcHJvbWlzZS4gQnkgZG9pbmcgdGhpcyBpbiBhXHJcbi8vIHNlcGFyYXRlIG1vZHVsZSwgdGhlIGNsaWVudCBjYW4gYmUgc2hhcmVkIGFjcm9zcyBmdW5jdGlvbnMuXHJcbmV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2VcclxuIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwidXJpIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwib3B0aW9ucyIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJnbG9iYWxXaXRoTW9uZ28iLCJnbG9iYWwiLCJfbW9uZ29DbGllbnRQcm9taXNlIiwiY29ubmVjdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadvertisements%2Froute&page=%2Fapi%2Fadvertisements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadvertisements%2Froute.ts&appDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadvertisements%2Froute&page=%2Fapi%2Fadvertisements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadvertisements%2Froute.ts&appDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_PC_Downloads_shoplyeasy_shoplyeasy_app_api_advertisements_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/advertisements/route.ts */ \"(rsc)/./app/api/advertisements/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/advertisements/route\",\n        pathname: \"/api/advertisements\",\n        filename: \"route\",\n        bundlePath: \"app/api/advertisements/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\PC\\\\Downloads\\\\shoplyeasy\\\\shoplyeasy\\\\app\\\\api\\\\advertisements\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_PC_Downloads_shoplyeasy_shoplyeasy_app_api_advertisements_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZHZlcnRpc2VtZW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWR2ZXJ0aXNlbWVudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZHZlcnRpc2VtZW50cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNQQyU1Q0Rvd25sb2FkcyU1Q3Nob3BseWVhc3klNUNzaG9wbHllYXN5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNQQyU1Q0Rvd25sb2FkcyU1Q3Nob3BseWVhc3klNUNzaG9wbHllYXN5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNvQztBQUNqSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcUENcXFxcRG93bmxvYWRzXFxcXHNob3BseWVhc3lcXFxcc2hvcGx5ZWFzeVxcXFxhcHBcXFxcYXBpXFxcXGFkdmVydGlzZW1lbnRzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZHZlcnRpc2VtZW50cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FkdmVydGlzZW1lbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZHZlcnRpc2VtZW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFBDXFxcXERvd25sb2Fkc1xcXFxzaG9wbHllYXN5XFxcXHNob3BseWVhc3lcXFxcYXBwXFxcXGFwaVxcXFxhZHZlcnRpc2VtZW50c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadvertisements%2Froute&page=%2Fapi%2Fadvertisements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadvertisements%2Froute.ts&appDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadvertisements%2Froute&page=%2Fapi%2Fadvertisements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadvertisements%2Froute.ts&appDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPC%5CDownloads%5Cshoplyeasy%5Cshoplyeasy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();